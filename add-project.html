<!DOCTYPE html>
<html>
<head>
	<title>Add Project</title>
	<meta charset="utf-8">
</head>
<body>
	<h1>Add Project</h1>
	<form action="http://arch.francecentral.cloudapp.azure.com:43704/add-project" method="post">
		<label for="project">Project:</label>
		<input type="text" name="project" required><br><br>

		<label for="price">Price:</label>
		<input type="number" name="price" required><br><br>

		<label for="customer_id">Customer:</label>
		<select name="customer_id" required>
			<option value="">Select customer</option>
			<!-- Fetching customers from server using AJAX -->
		</select><br><br>

		<button type="submit">Add Project</button>
	</form>

	<script>
		const xhr = new XMLHttpRequest();
		xhr.open('GET', 'http://arch.francecentral.cloudapp.azure.com:43704/list-users', true);
		xhr.onload = function() {
			if (this.status === 200) {
				const customers = JSON.parse(this.responseText);
				const select = document.querySelector('select[name="customer_id"]');
				customers.forEach(customer => {
					const option = document.createElement('option');
					option.value = customer.id;
					option.text = customer.name;
					select.add(option);
				});
			}
		};
		xhr.send();
	</script>

<h1>Back to Index</h1>
<button onclick="navigateToAddProject()">Back to Index</button>
<script>
function navigateToAddProject() {
  window.location.href = 'index.html';
}
</script>

</body>
</html>
